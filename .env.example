# PostgreSQL credentials: use only if you want to deploy an instance only for this app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme
POSTGRES_DB=postgres

# PostgreSQL connection url: override if you have your own database instance
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# RabbitMQ credentials: use only if you want to deploy an instance only for this app
RABBIT_USER=guest
RABBIT_PASSWORD=guest

# RabbitMQ connection url: override if you have your own RabbitMQ instance
RABBIT_URL=amqp://${RABBIT_USER}:${RABBIT_PASSWORD}@rabbitmq:5672/
# Optional: override API settings
PYTHONUNBUFFERED=1

# Custom PII recognizers to enable
CUSTOM_PII_RECOGNIZERS=CPF,CNPJ,CNH,TITULO_ELEITORAL,PIS,RENAVAM,CNS,PASSWORD,EMAIL_ADDRESS

# Webhook for worker to POST results (circuit breaker enabled)
WEBHOOK_URL=http://host.docker.internal:3000/webhook
# Dispatcher worker polling interval (seconds)
DISPATCH_INTERVAL=30
# Optional delay (seconds) between individual webhook sends to avoid rate limits
DISPATCH_SEND_DELAY=0

# Circuit breaker settings for dispatcher worker
# Number of failures before opening circuit
CB_FAILURE_THRESHOLD=3
# Time (seconds) to wait before attempting to half-open the circuit
CB_RECOVERY_TIMEOUT=60
# Max trial calls allowed when in half-open state
CB_HALF_OPEN_MAX_CALLS=1

# Optional webhook secret to include in requests
# If set, the header named by `WEBHOOK_SECRET_HEADER` will be added to requests.
# Example to send `Authorization: Bearer <secret>`:
# WEBHOOK_SECRET=mysecret
# WEBHOOK_SECRET_HEADER=Authorization
# WEBHOOK_SECRET_PREFIX=Bearer
WEBHOOK_SECRET=
WEBHOOK_SECRET_HEADER=Authorization
WEBHOOK_SECRET_PREFIX=

# LLM API KEY
LLM_MODEL=model
LLM_BASE_URL=https://api.llm.com
LLM_API_KEY=api-key
