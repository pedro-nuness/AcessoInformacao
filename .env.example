# Credenciais do PostgreSQL: use apenas se você quiser subir uma instância somente para este app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme
POSTGRES_DB=postgres

# URL de conexão com o PostgreSQL: sobrescreva se você já tiver sua própria instância de banco
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# Credenciais do RabbitMQ: use apenas se você quiser subir uma instância somente para este app
RABBIT_USER=guest
RABBIT_PASSWORD=guest

# URL de conexão com o RabbitMQ: sobrescreva se você já tiver sua própria instância do RabbitMQ
RABBIT_URL=amqp://${RABBIT_USER}:${RABBIT_PASSWORD}@rabbitmq:5672/

# Opcional: sobrescreve configurações da API
PYTHONUNBUFFERED=1

# Webhook para o worker enviar os resultados via POST (circuit breaker habilitado)
WEBHOOK_URL=http://host.docker.internal:3000/webhook

# Intervalo de polling do worker dispatcher (em segundos)
DISPATCH_INTERVAL=30

# Atraso opcional (em segundos) entre envios individuais de webhook para evitar rate limit
DISPATCH_SEND_DELAY=0

# Configurações do circuit breaker para o worker dispatcher
# Número de falhas antes de abrir o circuito
CB_FAILURE_THRESHOLD=3

# Tempo (em segundos) de espera antes de tentar colocar o circuito em estado half-open
CB_RECOVERY_TIMEOUT=60

# Número máximo de chamadas de teste permitidas quando em estado half-open
CB_HALF_OPEN_MAX_CALLS=1

# Segredo opcional do webhook para incluir nas requisições
# Se definido, o header nomeado por `WEBHOOK_SECRET_HEADER` será adicionado às requisições.
# Exemplo para enviar `Authorization: Bearer <secret>`:
# WEBHOOK_SECRET=mysecret
# WEBHOOK_SECRET_HEADER=Authorization
# WEBHOOK_SECRET_PREFIX=Bearer
WEBHOOK_SECRET=
WEBHOOK_SECRET_HEADER=Authorization
WEBHOOK_SECRET_PREFIX=

# Configurações do scanner com LLM
LLM_FALLBACK=false # habilita o fallback para LLM: a LLM será usada se o Presidio não encontrar PII
LLM_MODEL=model # ex.: gpt-4, gpt-3.5-turbo
LLM_BASE_URL=https://api.llm.com # URL base da API da LLM
LLM_API_KEY=api-key # sua chave de API da LLM
